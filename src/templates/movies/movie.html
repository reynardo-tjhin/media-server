{% extends 'base.html' %}

{% block title %}{{ movie.name }} - Watch Movie{% endblock %}

{% block head %}
{{ super() }}

<link rel="stylesheet" href="{{ url_for('static', filename='movies/movie.css') }}">
{% endblock %}

{% block content %}
<!-- content -->
<div class="content container pb-4 px-4">
    <div class="row mb-4">
        <!-- the poster of the movie -->
        <div class="col-lg-4 mb-4 mb-lg-0">
            <img src="/media/poster/{{ movie.name }}.webp" alt="{{ movie.name }} Poster" class="movie-poster img-fluid">
        </div>

        <!-- information about the movie -->
        <div class="col-lg-8">

            <!-- Title of the movie -->
            <h1 class="text-left mb-4">{{ movie.name | capitalize }}</h1>

            <div class="movie-info">
                <!-- show the description of the movie -->
                <p>{{ movie.description }}</p>

                <!-- Show the 3 ratings -->
                <div class="rating-container">
                    {% if movie.imdb_rating %}
                    <div class="rating-item d-flex align-items-center">
                        <i class="bi bi-star-fill text-warning me-1"></i>
                        <span>IMDb: {{ movie.imdb_rating }}</span>
                    </div>
                    {% endif %}

                    {% if movie.rotten_tomatoes_rating %}
                    <div class="rating-item d-flex align-items-center">
                        <i class="bi bi-apple text-danger me-1"></i>
                        <span>RT: {{ movie.rotten_tomatoes_rating }}</span>
                    </div>
                    {% endif %}

                    {% if movie.metacritic_rating %}
                    <div class="rating-item d-flex align-items-center">
                        <i class="bi bi-award text-info me-1"></i>
                        <span>Metacritic: {{ movie.metacritic_rating }}</span>
                    </div>
                    {% endif %}
                </div>

                <!-- show the release date -->
                {% if movie.release_date %}
                <div class="mt-3">
                    <i class="bi bi-calendar3 me-2"></i>
                    <span>Release Date: {{ movie.release_date }}</span>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- the movie player -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="video-container">
                <video id="moviePlayer" controls>
                    <source src="/media/movie/{{ movie.name }}.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block after %}

{% endblock %}